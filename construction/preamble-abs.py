#!/usr/bin/env python

import numpy as np
import scipy as sp
import matplotlib
matplotlib.use('PS')
import matplotlib.pyplot as plt

if __name__ == '__main__':
    a = np.array([(-5.656854)+(0.000000j),
    (-7.869864)+(-2.806996j),
    (-5.069700)+(-0.387532j),
    (6.090837)+(-4.838567j),
    (-12.617288)+(-5.226252j),
    (8.112023)+(10.876323j),
    (-11.553444)+(-1.780242j),
    (11.265645)+(16.985102j),
    (4.000000)+(-12.000000j),
    (8.773235)+(-13.282233j),
    (-0.090928)+(-20.046199j),
    (3.406909)+(-22.689292j),
    (0.896683)+(2.164784j),
    (16.277021)+(-3.162204j),
    (16.994347)+(6.544500j),
    (-31.917537)+(-3.563665j),
    (0.000000)+(-5.656854j),
    (31.917537)+(-3.563665j),
    (-16.994347)+(6.544500j),
    (-16.277021)+(-3.162204j),
    (-0.896683)+(2.164784j),
    (-3.406909)+(-22.689292j),
    (0.090928)+(-20.046199j),
    (-8.773235)+(-13.282233j),
    (-4.000000)+(-12.000000j),
    (-11.265645)+(16.985102j),
    (11.553444)+(-1.780242j),
    (-8.112023)+(10.876323j),
    (12.617288)+(-5.226252j),
    (-6.090837)+(-4.838567j),
    (5.069700)+(-0.387532j),
    (7.869864)+(-2.806996j),
    (5.656854)+(0.000000j),
    (7.869864)+(2.806996j),
    (5.069700)+(0.387532j),
    (-6.090837)+(4.838567j),
    (12.617288)+(5.226252j),
    (-8.112023)+(-10.876323j),
    (11.553444)+(1.780242j),
    (-11.265645)+(-16.985102j),
    (-4.000000)+(12.000000j),
    (-8.773235)+(13.282233j),
    (0.090928)+(20.046199j),
    (-3.406909)+(22.689292j),
    (-0.896683)+(-2.164784j),
    (-16.277021)+(3.162204j),
    (-16.994347)+(-6.544500j),
    (31.917537)+(3.563665j),
    (0.000000)+(5.656854j),
    (-31.917537)+(3.563665j),
    (16.994347)+(-6.544500j),
    (16.277021)+(3.162204j),
    (0.896683)+(-2.164784j),
    (3.406909)+(22.689292j),
    (-0.090928)+(20.046199j),
    (8.773235)+(13.282233j),
    (4.000000)+(12.000000j),
    (11.265645)+(-16.985102j),
    (-11.553444)+(1.780242j),
    (8.112023)+(-10.876323j),
    (-12.617288)+(5.226252j),
    (6.090837)+(4.838567j),
    (-5.069700)+(0.387532j),
    (-7.869864)+(2.806996j)])

    #n = a.size
    #b = np.zeros(5 * n)
    #b[2*n:3*n] = a
    #b += sp.random.normal(size=(5*n,))
    #c = sp.correlate(b, b, 'full')
    #plt.subplot(211)
    #plt.plot(np.arange(5*n), abs(b))
    #plt.subplot(212)
    #plt.plot(np.arange(c.size), abs(c))

    #plt.subplot(211)
    #plt.title('Real part of preamble')
    #plt.plot(a.real)
    #plt.subplot(212)
    #plt.title('Imaginary part of preamble')
    #plt.plot(a.imag)

    ax = plt.subplot(111)
    ax.plot(abs(a))
    ax.set_xlim(0, 63)

    # Remove the top and right axes
    #spines_to_remove = ['top', 'right']
    #for spine in spines_to_remove:
    #    ax.spines[spine].set_visible(False)

    # Get rid of ticks. The position of the numbers is informative enough of
    # the position of the value.
    ax.xaxis.set_ticks_position('none')
    ax.yaxis.set_ticks_position('none')

    #plt.tight_layout()
    #plt.show()
    plt.savefig('preamble-abs.ps', transparent=True)

